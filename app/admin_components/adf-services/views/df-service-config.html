<div>

    <div class="form-group" data-ng-repeat="field in selectedSchema.config_schema">
        <label>{{ field.label }}</label>
        <df-simple-help data-options="field"></df-simple-help>

        <div class="panel panel-default" ng-if="field.type === 'array(string)'">
            <table class="table table-hover table-striped field-list">
                <thead>
                <tr>
                    <th>{{ field.name }}</th>

                    <th class="no-border">
                        <div class="btn-group pull-left">
                            <button type="button" class="btn btn-default btn-sm"
                                    data-ng-click="addStringInArray(serviceInfo.record.config, field.name)" title="Add">
                                <i class="fa fa-plus fa-fw"></i>
                            </button>
                        </div>
                    </th>
                </tr>
                </thead>

                <tbody>

                <tr data-ng-repeat="str in serviceInfo.record.config[field.name] track by $index">
                    <td>
                        <input class="form-control" ng-model="serviceInfo.record.config[value.name][$index]"
                               type="text"/>
                    </td>

                    <td class="no-border">
                        <div class="btn-group pull-left">
                            <button type="button" class="btn btn-sm btn-default"
                                    data-ng-click="deleteStringFromArray(serviceInfo.record.config[field.name], $index)"
                                    title="Delete">
                                <i class="fa fa-trash-o fa-fw"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="panel panel-default" ng-if="field.type === 'object(string,string)'">
            <table class="table table-hover table-striped field-list">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Value</th>


                    <th class="no-border">
                        <div class="btn-group pull-left">
                            <button type="button" class="btn btn-default btn-sm"
                                    data-ng-click="addKeyValue(field.name)">
                                <i class="fa fa-plus fa-fw"></i>
                            </button>
                        </div>
                    </th>
                </tr>
                </thead>

                <tbody>

                <tr data-ng-repeat="(key,value) in serviceInfo.record.config[field.name]">
                    <td>
                        <input class="form-control" data-ng-model="key" type="text"/>
                    </td>
                    <td>
                        <input class="form-control" data-ng-model="value" type="text"/>
                    </td>

                    <td class="no-border">
                        <div class="btn-group pull-left">
                            <button type="button" class="btn btn-sm btn-default"
                                    data-ng-click="deleteKeyValue(serviceInfo.record.config[field.name], key)">
                                <i class="fa fa-trash-o fa-fw"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <input class="form-control" ng-if="field.type == 'string'" ng-model="serviceInfo.record.config[field.name]"
               type="text" ng-required="field.required"/>
        <input class="form-control" ng-if="field.type == 'password'" ng-model="serviceInfo.record.config[field.name]"
               type="password" ng-required="field.required"/>
        <input class="form-control" ng-if="field.type == 'text'" ng-model="serviceInfo.record.config[field.name]"
               type="text" ng-required="field.required"/>
        <input class="form-control" ng-if="field.type == 'boolean'" ng-model="serviceInfo.record.config[field.name]"
               type="checkbox"/>
        <input class="form-control" ng-if="field.type == 'integer'" ng-model="serviceInfo.record.config[field.name]"
               type="number" ng-required="field.required">

        <select class="form-control" ng-if="field.type == 'picklist'" ng-model="serviceInfo.record.config[field.name]"
                ng-options="option.name as option.label for option in field.values" ng-click="updateAffectedFields(serviceInfo.record.config[field.name], field)">
        </select>
        <!--angular 1.4.0 required-->
        <!--<select class="form-control" ng-if="field.type == 'picklist'" ng-model="serviceInfo.record.config[field.name]"-->
                <!--ng-options="option.name as option.label disable when option.disable for option in field.values">-->
        <!--</select>-->
    </div>
</div>
